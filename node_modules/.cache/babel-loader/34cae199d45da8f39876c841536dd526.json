{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\OUP\\\\React\\\\hackernews-react-apollo\\\\src\\\\components\\\\Link.js\";\nimport React, { Component } from 'react';\nimport { AUTH_TOKEN } from '../constants';\nimport { timeDifferenceForDate } from '../utils';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nconst VOTE_MUTATION = gql`\n  mutation VoteMutation($linkId: ID!) {\n    vote(linkId: $linkId) {\n      id\n      link {\n       id\n        votes {\n          id\n          user {\n            id\n          }\n        }\n      }\n      user {\n        id\n      }\n    }\n  }\n`;\n\nclass Link extends Component {\n  render() {\n    const authToken = localStorage.getItem(AUTH_TOKEN);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex mt2 items-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"gray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }\n    }, this.props.index + 1, \".\"), authToken && /*#__PURE__*/React.createElement(Mutation, {\n      mutation: VOTE_MUTATION,\n      variables: {\n        linkId: this.props.link.id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, voteMutation => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml1 gray f11\",\n      onClick: voteMutation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, \"\\u25B2\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, this.props.link.description, \" (\", this.props.link.url, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"f6 lh-copy gray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, this.props.link.votes.length, \" votes | by\", ' ', this.props.link.postedBy ? this.props.link.postedBy.name : 'Unknown', ' ', timeDifferenceForDate(this.props.link.createdAt))));\n  }\n\n}\n\nexport default Link;","map":{"version":3,"sources":["E:/Project/OUP/React/hackernews-react-apollo/src/components/Link.js"],"names":["React","Component","AUTH_TOKEN","timeDifferenceForDate","Mutation","gql","VOTE_MUTATION","Link","render","authToken","localStorage","getItem","props","index","linkId","link","id","voteMutation","description","url","votes","length","postedBy","name","createdAt"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,qBAAT,QAAsC,UAAtC;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,MAAMC,aAAa,GAAGD,GAAI;;;;;;;;;;;;;;;;;;CAA1B;;AAoBA,MAAME,IAAN,SAAmBN,SAAnB,CAA6B;AAC3BO,EAAAA,MAAM,GAAG;AACP,UAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqBT,UAArB,CAAlB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB,KAAKU,KAAL,CAAWC,KAAX,GAAmB,CAA3C,MADF,EAEGJ,SAAS,iBACR,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAEH,aAApB;AAAmC,MAAA,SAAS,EAAE;AAAEQ,QAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWG,IAAX,CAAgBC;AAA1B,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,YAAY,iBACX;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,OAAO,EAAEA,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CAHJ,CADF,eAaE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKL,KAAL,CAAWG,IAAX,CAAgBG,WADnB,QACkC,KAAKN,KAAL,CAAWG,IAAX,CAAgBI,GADlD,MADF,eAIE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKP,KAAL,CAAWG,IAAX,CAAgBK,KAAhB,CAAsBC,MADzB,iBAC4C,GAD5C,EAEG,KAAKT,KAAL,CAAWG,IAAX,CAAgBO,QAAhB,GACG,KAAKV,KAAL,CAAWG,IAAX,CAAgBO,QAAhB,CAAyBC,IAD5B,GAEG,SAJN,EAIiB,GAJjB,EAKGpB,qBAAqB,CAAC,KAAKS,KAAL,CAAWG,IAAX,CAAgBS,SAAjB,CALxB,CAJF,CAbF,CADF;AA4BD;;AA/B0B;;AAkC7B,eAAejB,IAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { AUTH_TOKEN } from '../constants'\r\nimport { timeDifferenceForDate } from '../utils'\r\nimport { Mutation } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nconst VOTE_MUTATION = gql`\r\n  mutation VoteMutation($linkId: ID!) {\r\n    vote(linkId: $linkId) {\r\n      id\r\n      link {\r\n       id\r\n        votes {\r\n          id\r\n          user {\r\n            id\r\n          }\r\n        }\r\n      }\r\n      user {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nclass Link extends Component {\r\n  render() {\r\n    const authToken = localStorage.getItem(AUTH_TOKEN)\r\n    return (\r\n      <div className=\"flex mt2 items-start\">\r\n        <div className=\"flex items-center\">\r\n          <span className=\"gray\">{this.props.index + 1}.</span>\r\n          {authToken && (\r\n            <Mutation mutation={VOTE_MUTATION} variables={{ linkId: this.props.link.id }}>\r\n              {voteMutation => (\r\n                <div className=\"ml1 gray f11\" onClick={voteMutation}>\r\n                  â–²\r\n                </div>\r\n              )}\r\n            </Mutation>\r\n          )}\r\n        </div>\r\n        <div className=\"ml1\">\r\n          <div>\r\n            {this.props.link.description} ({this.props.link.url})\r\n          </div>\r\n          <div className=\"f6 lh-copy gray\">\r\n            {this.props.link.votes.length} votes | by{' '}\r\n            {this.props.link.postedBy\r\n              ? this.props.link.postedBy.name\r\n              : 'Unknown'}{' '}\r\n            {timeDifferenceForDate(this.props.link.createdAt)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Link"]},"metadata":{},"sourceType":"module"}
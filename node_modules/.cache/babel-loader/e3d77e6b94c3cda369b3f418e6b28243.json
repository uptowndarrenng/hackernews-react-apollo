{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\OUP\\\\React\\\\hackernews-react-apollo\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { AUTH_TOKEN } from '../constants';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nconst SIGNUP_MUTATION = gql`\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n    }\n  }\n`;\nconst LOGIN_MUTATION = gql`\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n`;\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      login: true,\n      // switch between Login and SignUp\n      email: '',\n      password: '',\n      name: ''\n    };\n\n    this._confirm = async () => {// ... you'll implement this ðŸ”œ\n    };\n\n    this._saveUserData = token => {\n      localStorage.setItem(AUTH_TOKEN, token);\n    };\n  }\n\n  render() {\n    const {\n      login,\n      email,\n      password,\n      name\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mv3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, login ? 'Login' : 'Sign Up'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    }, !login && /*#__PURE__*/React.createElement(\"input\", {\n      value: name,\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      type: \"text\",\n      placeholder: \"Your name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: email,\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      type: \"text\",\n      placeholder: \"Your email address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: password,\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      type: \"password\",\n      placeholder: \"Choose a safe password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex mt3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Mutation, {\n      mutation: login ? LOGIN_MUTATION : SIGNUP_MUTATION,\n      variables: {\n        email,\n        password,\n        name\n      },\n      onCompleted: data => this._confirm(data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, mutation => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pointer mr2 button\",\n      onClick: mutation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, login ? 'login' : 'create account')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pointer button\",\n      onClick: () => this.setState({\n        login: !login\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, login ? 'need to create an account?' : 'already have an account?')));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/Project/OUP/React/hackernews-react-apollo/src/components/Login.js"],"names":["React","Component","AUTH_TOKEN","Mutation","gql","SIGNUP_MUTATION","LOGIN_MUTATION","Login","state","login","email","password","name","_confirm","_saveUserData","token","localStorage","setItem","render","e","setState","target","value","data","mutation"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { AUTH_TOKEN } from '../constants'\r\nimport { Mutation } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nconst SIGNUP_MUTATION = gql`\r\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\r\n    signup(email: $email, password: $password, name: $name) {\r\n      token\r\n    }\r\n  }\r\n`\r\n\r\nconst LOGIN_MUTATION = gql`\r\n  mutation LoginMutation($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n    }\r\n  }\r\n`\r\nclass Login extends Component {\r\n    state = {\r\n        login: true, // switch between Login and SignUp\r\n        email: '',\r\n        password: '',\r\n        name: '',\r\n    }\r\n\r\n    render() {\r\n        const { login, email, password, name } = this.state\r\n        return (\r\n            <div>\r\n                <h4 className=\"mv3\">{login ? 'Login' : 'Sign Up'}</h4>\r\n                <div className=\"flex flex-column\">\r\n                    {!login && (\r\n                        <input\r\n                            value={name}\r\n                            onChange={e => this.setState({ name: e.target.value })}\r\n                            type=\"text\"\r\n                            placeholder=\"Your name\"\r\n                        />\r\n                    )}\r\n                    <input\r\n                        value={email}\r\n                        onChange={e => this.setState({ email: e.target.value })}\r\n                        type=\"text\"\r\n                        placeholder=\"Your email address\"\r\n                    />\r\n                    <input\r\n                        value={password}\r\n                        onChange={e => this.setState({ password: e.target.value })}\r\n                        type=\"password\"\r\n                        placeholder=\"Choose a safe password\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex mt3\">\r\n                    <Mutation\r\n                        mutation={login ? LOGIN_MUTATION : SIGNUP_MUTATION}\r\n                        variables={{ email, password, name }}\r\n                        onCompleted={data => this._confirm(data)}\r\n                    >\r\n                        {mutation => (\r\n                            <div className=\"pointer mr2 button\" onClick={mutation}>\r\n                                {login ? 'login' : 'create account'}\r\n                            </div>\r\n                        )}\r\n                    </Mutation>\r\n                    <div\r\n                        className=\"pointer button\"\r\n                        onClick={() => this.setState({ login: !login })}\r\n                    >\r\n                        {login ? 'need to create an account?' : 'already have an account?'}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    _confirm = async () => {\r\n        // ... you'll implement this ðŸ”œ\r\n    }\r\n\r\n    _saveUserData = token => {\r\n        localStorage.setItem(AUTH_TOKEN, token)\r\n    }\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}